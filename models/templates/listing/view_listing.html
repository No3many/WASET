{% extends "layout.html" %}

{% block content %}
<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card shadow border-0">
            <img src="{{ listing.image_url or 'https://via.placeholder.com/600x400?text=No+Image' }}" class="img-fluid rounded" alt="{{ listing.title }}">
        </div>
    </div>

    <div class="col-md-6">
        <h2 class="fw-bold text-white mb-2">{{ listing.title }}</h2>
        <div class="mb-3">
            <span class="badge {{ 'bg-success' if listing.listing_type == 'Direct' else 'bg-warning text-dark' }} fs-6">
                {{ listing.listing_type }} Sale
            </span>
            <span class="text-muted ms-2"><i class="fas fa-clock"></i> Posted on {{ listing.created_at }}</span>
        </div>
        
        <h1 class="text-danger fw-bold mb-4">{{ listing.price }} <small class="fs-5 text-muted">EGP</small></h1>

        <div class="card bg-dark border-secondary mb-4">
            <div class="card-body">
                <h5 class="card-title text-white border-bottom border-secondary pb-2">Description</h5>
                <p class="card-text text-light">{{ listing.description }}</p>
            </div>
        </div>

        <div class="card border-danger mb-4" style="background-color: #1a1a1a;">
            <div class="card-header bg-danger text-white">
                <h5 class="mb-0"><i class="fas fa-store"></i> Seller Information</h5>
            </div>
            <div class="card-body">
                <h5 class="fw-bold">{{ listing.producer_name }} <span class="text-warning text-end fs-6">‚≠ê {{ listing.producer_rating }}</span></h5>
                
                <hr class="border-secondary">
                
                <ul class="list-unstyled">
                    <li class="mb-2"><i class="fas fa-map-marker-alt text-danger me-2"></i> <strong>Location:</strong> {{ listing.address or 'Not specified' }}</li>
                    <li class="mb-2"><i class="fas fa-truck text-danger me-2"></i> <strong>Shipping:</strong> {{ listing.shipping_company or 'Not specified' }}</li>
                    <li class="mb-2"><i class="fas fa-phone text-danger me-2"></i> <strong>Phone:</strong> {{ listing.phone or 'Hidden' }}</li>
                </ul>

                <div class="d-grid mt-3">
                    <button onclick="alert('Contact feature coming soon via WhatsApp!')" class="btn btn-success">
                        <i class="fab fa-whatsapp"></i> Contact Seller
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}